<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.3 $ -->
 <reference id="ref.dir">
  <title>Funções de diretório</title>
  <titleabbrev>Diretórios</titleabbrev>

  <partintro>
  
   <simpara>
    Para funções relacionadas como <function>dirname</function>,
    <function>is_dir</function>, <function>mkdir</function>, and
    <function>rmdir</function>, veja a seção 
    <link linkend="ref.filesystem">Filesystem</link>.
   </simpara>
  
  </partintro>
  
  <refentry id="function.chroot">
   <refnamediv>
    <refname>chroot</refname>
    <refpurpose>mudar o diretório raiz (root)</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descrição</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>bool <function>chroot</function></funcdef>
      <paramdef>string <parameter>diretorio</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Muda o diretório raiz (root) do processo atual para o
     <parameter>diretorio</parameter>. Retorna &false; se não for
     possível mudar o diretório raiz, retorna &true; caso contrário.
    </para>
    <note>
     <para>
      Não é sensato usar esta função quando rodando em um ambiente
      de um webserver, porque não é possível reiniciar o diretório
      raiz (root) para / novamente no fim do pedido (request). Esta
      função irá somente funcionar corretamente quando rodando como
      CGI desta forma.
     </para>
    </note>
   </refsect1>
  </refentry>

  <refentry id="function.chdir">
   <refnamediv>
    <refname>chdir</refname>
    <refpurpose>mudar de diretório</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descrição</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>bool <function>chdir</function></funcdef>
      <paramdef>string <parameter>diretorio</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Muda o diretório atual do PHP para <parameter>diretorio</parameter>.
     Retorna &false; se não for possível mudar de diretório, retorna &true
     caso contrário.
    </para>
   </refsect1>
  </refentry>

  <refentry id="class.dir">
   <refnamediv>
    <refname>dir</refname>
    <refpurpose>classe diretório</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descrição</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>objeto <function>dir</function></funcdef>
      <paramdef>string <parameter>diretorio</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Um mecanismo pseudo-orientado a objeto para ler um diretório.
     O parametro dado <parameter>diretorio</parameter> é aberto.
     Duas propriedades são disponíveis uma vez que o diretório foi aberto.
     A propriedade sinônima pode ser usada com outras funções de diretório
     como <function>readdir</function>, <function>rewinddir</function> e
     <function>closedir</function>. A propriedade path é configurada
     para o path que o diretório foi aberto. Três metodos são
     disponibilizados: read, rewind e close.
     <example>
      <title><function>dir</function> example</title>
      <programlisting role="php">
<![CDATA[
$d = dir("/etc");
echo "Handle: ".$d->handle."<br>\n";
echo "Path: ".$d->path."<br>\n";
while (false !== ($entry = $d->read())) {
    echo $entry."<br>\n";
}
$d->close();
]]>
      </programlisting>
     </example>
    </para>
    <note>
     <para>
      A ordem em que os diretórios são retornadas pelo metodo é dependente do
      sistema.
     </para>
    </note>
   </refsect1>
  </refentry>

  <refentry id="function.closedir">
   <refnamediv>
    <refname>closedir</refname>
    <refpurpose>fechar o handle do diretório</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descrição</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>void <function>closedir</function></funcdef>
      <paramdef>resource <parameter>dir_handle</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Fecha o stream do diretório indicado por
     <parameter>dir_handle</parameter>. O stream deve ter sido previamente
     aberto por <function>opendir</function>.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.getcwd">
   <refnamediv>
    <refname>getcwd</refname>
    <refpurpose>obter o diretório atual</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descrição</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>string <function>getcwd</function></funcdef>
      <void/>
     </funcprototype>
    </funcsynopsis>
    <para>
     Retorna o diretório atual.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.opendir">
   <refnamediv>
    <refname>opendir</refname>
    <refpurpose>abrir o handle do diretório</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descrição</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>resource <function>opendir</function></funcdef>
      <paramdef>string <parameter>path</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para> 
     Retorna um handle de diretório para ser usado em chamadas
     subsequentes a <function>closedir</function>,
     <function>readdir</function>, e <function>rewinddir</function>.
    </para>
    <para>
     Se o <parameter>path</parameter> não é um diretório válido ou
     o diretório não pode ser aberto devido a restrições das permissões
     ou erros no filesystem, <function>opendir</function> retorna
     &false; e gera um erro do PHP. Você pode suprimir o erro na
     saída de <function>opendir</function> no seu script ao se
     inserir `@' na frente do nome da função.
    </para>
    <para>
     <example>
      <title>exemplo de <function>opendir</function></title>
      <programlisting role="php">
<![CDATA[
<?php

if ($dir = @opendir("/tmp")) {
  while (($file = readdir($dir)) !== false) {
    echo "$file\n";
  }  
  closedir($dir);
}

?>
]]>
      </programlisting>
     </example>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.readdir">
   <refnamediv>
    <refname>readdir</refname>
    <refpurpose>ler os campos do handle do diretório</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descrição</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>string <function>readdir</function></funcdef>
      <paramdef>resource <parameter>dir_handle</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Retorna o nomedoarquivo do prócimo arquivo do diretório. Os
     nomedoarquivos não serão retornados em alguma ordem particular.
     <example>
      <title>Lista todos os arquivos do diretório atual</title>
      <programlisting role="php">
<![CDATA[
// Note que !== não existia até o PHP 4.0.0-RC2
<?php
$handle=opendir('.');
echo "Handle do diretório: $handle\n";
echo "Arquivos:\n";
while (false !== ($file = readdir($handle))) { 
    echo "$file\n";
}
closedir($handle); 
?>
]]>
      </programlisting>
     </example>
    </para>
    <para>
     Note que <function>readdir</function> irá retornar o <literal>.</literal>
     e <literal>..</literal> . Se você não quer estes simplesmente os retire:
     <example>
      <title>
       Listar todos os arquivo no diretório atual e retirar <literal>.</literal>
       e <literal>..</literal>
      </title>
      <programlisting role="php">
<![CDATA[
<?php 
$handle = opendir('.'); 
while (false !== ($file = readdir($handle))) { 
    if ($file != "." && $file != "..") { 
        echo "$file\n"; 
    } 
}
closedir($handle); 
?>
]]>
      </programlisting>
     </example>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.rewinddir">
   <refnamediv>
    <refname>rewinddir</refname>
    <refpurpose>voltar (rewind) o handle de diretório</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descrição</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>void <function>rewinddir</function></funcdef>
      <paramdef>resource <parameter>dir_handle</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Reinicia o stream do diretório indicado por
     <parameter>dir_handle</parameter> para o início do diretório.
    </para>

   </refsect1>
  </refentry>

 </reference>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
