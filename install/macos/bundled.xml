<?xml version="1.0" encoding="iso-8859-1"?>
<!-- EN-Revision: n/a Maintainer: narigone Status: ready -->
<sect1 xml:id="install.macosx.bundled" xmlns="http://docbook.org/ns/docbook">
 <title>Usando o pacote do PHP para Mac</title>
 <simpara>
  PHP vem junto com Mac OS X desde a versão 10.0.0. Habilitar o PHP no
  servidor web padrão requer apenas descomentar algumas linhas no 
  arquivo de configuração do Apache (<filename>httpd.conf</filename>) enquanto que
  a versão <acronym>CGI</acronym> e/ou <acronym>CLI</acronym> estão disponíveis
  automaticamente (facilmente acessíveis pelo programa Terminal).
 </simpara>
 <simpara>
  Habilitar o PHP usando as instruções abaixo tem como objetivo configurar rapidamente
  um ambiente de desenvolvimento local. É <emphasis>altamente recomendado</emphasis> 
  sempre atualizar o PHP para a versão mais nova. Como qualquer software ativo,
  novas versões são criadas para consertar bugs e adicionar funcionalidades e o PHP
  não é diferente. As seguintes instruções são direcionadas para iniciantes,
  os detalhes fornecidos permitem que uma configuração padrão funcionar. Todos os
  usuários são encorajados à compilar ou instalar uma versão nova do pacote.
 </simpara>
 <simpara>
  O tipo de instalação padrão é usando mod_php, e habilitar o pacote 
  mod_php no Mac OS X para o servidor Apache (o servidor web padrão,
  que é acessível via Preferências de Sistema) envolte os seguintes passos:
 </simpara>
 <para>
  <orderedlist>
   <listitem>
    <simpara>
     Localize e abra o arquivo de configuração do Apache. Normalmente, ele está
     em: <filename>/etc/httpd/httpd.conf</filename>
    </simpara>
    <simpara>
     Usar <literal>Finder</literal> ou <literal>Spotlight</literal> para encontrar
     esse arquivo pode ser complicado, já que ele normalmente é privado e o dono
     é o administrador (<literal>root</literal>).
    </simpara>
    <note>
     <simpara>
      Uma maneira de modificar o arquivo é usando um editor de texto baseado em Unix no
      Terminal, por exemplo <literal>nano</literal>, e, como o dono do arquivo 
      é o root, nós usaremos o comando <literal>sudo</literal> para abrí-lo.
      Digite o seguinte comando na aplicação de
      <literal>Terminal</literal> (você precisará digitar
      a sua senha):
      <literal>sudo nano /etc/httpd/httpd.conf</literal>
     </simpara>
     <simpara>
      Comandos importantes do nano: <literal>^w</literal> (busca), 
      <literal>^o</literal> (salvar), e <literal>^x</literal> (sair) onde
      <literal>^</literal> representa a tecla Ctrl.
     </simpara>
    </note> 
   </listitem>
   <listitem>
    <para>
     Com um editor de texto, descomente as linhas (removendo os #) que parecem
     com as linhas abaixo (essas duas linhas normalmente não estão juntas,
     localize ambas no arquivo):
     <screen>
<![CDATA[
# LoadModule php4_module libexec/httpd/libphp4.so

# AddModule mod_php4.c
]]>
     </screen>
      Perceba a localização/caminho. Quando compilar o PHP no futuro, os
      arquivos acima devem ser substituidos ou comentados.
    </para>
   </listitem>
   <listitem>
    <para>
     Certifique-se que as extensões desejadas serão avalidadas como códigos PHP
     (exemplos: .php .html e .inc)
    </para>
    <para>
     Como a seguinte instrução já existe no
     <filename>httpd.conf</filename> (a partir do Mac Panther), uma vez que o PHP
     for habilitado, os arquivos <filename>.php</filename> serão automaticamente
     avaliados como códigos PHP.
     <screen>
<![CDATA[
<IfModule mod_php4.c>
    # If php is turned on, we respect .php and .phps files.
    AddType application/x-httpd-php .php
    AddType application/x-httpd-php-source .phps

    # Since most users will want index.php to work we
    # also automatically enable index.php
    <IfModule mod_dir.c>
        DirectoryIndex index.html index.php
    </IfModule>
</IfModule>
]]>
     </screen>
    </para>
   </listitem>
   <listitem>
    <simpara>
     Assegure-se de que a diretiva DirectoryIndex carrega o arquivo index desejado
    </simpara>
    <simpara>
     Isso também é configurável no arquivo <filename>httpd.conf</filename>. Tipicamente
     <filename>index.php</filename> e <filename>index.html</filename> são
     usados. Por padrão, <filename>index.php</filename> é habilitado porque
     também está na checagem mostrada abaixo. Modifique como desejar.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Configure a localização do arquivo &php.ini; ou use a padrão
    </simpara>
    <simpara>
     Uma localização típica no Mac OS X é 
     <filename>/usr/local/php/php.ini</filename> e uma chamada à 
     <function>phpinfo</function> revelerá essa informação.
     Se não for usado um arquivo &php.ini;, o PHP usará todos os valores padrão.
     Veja também o FAQ relacionado em
     <link linkend="faq.installation.phpini">encontrando php.ini</link>.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Localize ou configure <literal>DocumentRoot</literal>
    </simpara>
    <simpara>
     Esse é o diretório raiz para todos os arquivos do servidor. Arquivo nesse diretório
     serão servidos, então os arquivos PHP serão avaliados como PHP antes de 
     terem seu resultado enviado para o servidor. Um caminho padrão para isso é
     <filename>/Library/WebServer/Documents</filename> mas isso pode ser modificado para
     qualquer um no arquivo <filename>httpd.conf</filename>. Além disso, o DocumentRoot
     para usuários individuais é
     <filename>/Users/yourusername/Sites</filename>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Crie um arquivo <function>phpinfo</function>
    </simpara>
    <para>
     A função <function>phpinfo</function> mostrará informação sobre o PHP.
     Considere criar um arquivo no DocumentRoot com o seguinte código PHP:
     <programlisting role="php">
<![CDATA[
<?php phpinfo(); ?>
]]>
     </programlisting>
    </para> 
   </listitem>
   <listitem>
    <simpara>
     Reinicie o Apache e carregue o arquivo PHP criado acima
    </simpara>
    <simpara>
     Para reiniciar, ou execute <literal>sudo apachectl graceful</literal> no
     shell ou stop/start na opção "Personal Web Server" em
     OS X System Preferences. Geralmente, carregar arquivos locais no browser
     pode ser feito usando uma <acronym>URL</acronym> assim: 
     <filename>http://localhost/info.php</filename> ou se estiver usando o 
     diretório DocumentRoot dentro de um diretório de usuário, seria assim: 
     <filename>http://localhost/~yourusername/info.php</filename>
    </simpara>
   </listitem>
  </orderedlist>
 </para>
 <simpara>
  A versão <acronym>CLI</acronym> (ou <acronym>CGI</acronym> em versões mais antigas) tem
  nome <filename>php</filename> e provavelmente está em
  <filename>/usr/bin/php</filename>. Abra um terminal, leia a
  <link linkend="features.commandline">seção sobre linha de comando</link> do manual
  desse binário. Uma chamada para <function>phpinfo</function> também mostrará
  do PHP, e execute <literal>php -v</literal> para verificar a versão do PHP
  essa informação.
 </simpara>
</sect1>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
